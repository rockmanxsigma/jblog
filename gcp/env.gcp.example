# Configuration d'environnement pour le déploiement GCP
# Copiez ce fichier vers .env.gcp et configurez vos valeurs

# ===========================================
# CONFIGURATION GCP
# ===========================================

# ID du projet Google Cloud Platform
GCP_PROJECT_ID=your-gcp-project-id

# Région de déploiement
GCP_REGION=us-central1

# Nom du repository Artifact Registry
GCP_REPO_NAME=jgazette-repo

# ===========================================
# CONFIGURATION MONGODB ATLAS
# ===========================================

# URI de connexion MongoDB Atlas
# Format: mongodb+srv://username:password@cluster.mongodb.net/database
MONGODB_ATLAS_URI=mongodb+srv://username:password@cluster.mongodb.net/jgazette

# ===========================================
# CONFIGURATION API
# ===========================================

# Secret JWT (changez en production)
JWT_SECRET=your-super-secret-jwt-key-change-in-production

# Durée de validité du token JWT
JWT_EXPIRES_IN=7d

# Port de l'API
PORT=5000

# Environnement
NODE_ENV=production

# Chemin de stockage des uploads
UPLOAD_PATH=/tmp/uploads

# ===========================================
# CONFIGURATION CORS
# ===========================================

# URL du frontend (sera configurée automatiquement)
CORS_ORIGIN=https://jgazette-web-XXXXX-uc.a.run.app

# ===========================================
# CONFIGURATION CLOUD RUN
# ===========================================

# Ressources API
API_MEMORY=2Gi
API_CPU=2
API_MAX_INSTANCES=10
API_MIN_INSTANCES=1

# Ressources Web
WEB_MEMORY=1Gi
WEB_CPU=1
WEB_MAX_INSTANCES=10
WEB_MIN_INSTANCES=1

# Timeout des requêtes
REQUEST_TIMEOUT=300

# ===========================================
# CONFIGURATION SECRETS
# ===========================================

# Noms des secrets dans Secret Manager
SECRET_JWT_NAME=jwt-secret
SECRET_MONGODB_NAME=mongodb-atlas-uri

# ===========================================
# CONFIGURATION MONITORING
# ===========================================

# Activer les logs détaillés
ENABLE_DEBUG_LOGS=false

# Niveau de log
LOG_LEVEL=info

# ===========================================
# CONFIGURATION SÉCURITÉ
# ===========================================

# Service account pour le déploiement
SERVICE_ACCOUNT=jgazette-deploy@your-gcp-project-id.iam.gserviceaccount.com

# Permissions nécessaires
REQUIRED_ROLES=roles/run.admin,roles/cloudbuild.builds.builder,roles/artifactregistry.writer,roles/secretmanager.secretAccessor

# ===========================================
# CONFIGURATION OPTIMISATION
# ===========================================

# Activer la compression
ENABLE_COMPRESSION=true

# Cache des assets statiques
CACHE_STATIC_ASSETS=true

# TTL du cache (en secondes)
CACHE_TTL=3600

# ===========================================
# CONFIGURATION DOMAINE PERSONNALISÉ
# ===========================================

# Domaine personnalisé (optionnel)
CUSTOM_DOMAIN=

# Certificat SSL (optionnel)
SSL_CERTIFICATE=

# ===========================================
# NOTES D'UTILISATION
# ===========================================

# 1. Copiez ce fichier vers .env.gcp
# 2. Configurez vos valeurs réelles
# 3. Utilisez le script de déploiement:
#    .\deploy-atlas.ps1 $GCP_PROJECT_ID $MONGODB_ATLAS_URI
# 4. Testez avec:
#    .\test-deployment.ps1 $GCP_PROJECT_ID

# ===========================================
# EXEMPLE DE CONFIGURATION COMPLÈTE
# ===========================================

# GCP_PROJECT_ID=my-jblog-project
# GCP_REGION=us-central1
# MONGODB_ATLAS_URI=mongodb+srv://jblog:password123@cluster0.abc123.mongodb.net/jgazette
# JWT_SECRET=my-super-secret-jwt-key-for-production-2024
# CORS_ORIGIN=https://jgazette-web-my-jblog-project-uc.a.run.app